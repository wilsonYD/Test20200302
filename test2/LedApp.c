/****************************************************
* 文 件 名：
* 描    述：LED应用
* 作    者：youdream
* 编写时间：2018.12.27
* 修改记录：
  |条目  |修改人     |日期       |修改内容
  1、    youdream    2018.12.27  a)第一版
* 备    忘：
  1、无
*****************************************************/

#include "LedApp.h"

/**********************变量定义**********************/
// ---------------------------------------------------

/**********************函数声明**********************/
// ---------------------------------------------------
void AppTaskLed(void *p_arg);

/**********************函数定义**********************/
// ---------------------------------------------------
// -----------------------------------------------------------------------------
/****************************************************
* 函数名称 ：
* 功    能 ：Led应用
* 入口参数 ：p_arg
* 返回参数 ：无
* 注意事项 ：
*****************************************************/
void AppTaskLed(void *p_arg)
{
    OS_ERR	err;
	
	(void)p_arg;
	
	while(1)
	{
		WORK_LED = ~WORK_LED;
		OSTimeDly(CPU_RUN_LED_BLINK_TIME, OS_OPT_TIME_DLY, &err);
	}
}

// -----------------------------------------------------------------------------
/****************************************************
* 函数名称 ：
* 功    能 ：CPU运行指示
* 入口参数 ：无
* 返回参数 ：无
* 注意事项 ：主循环或中断中调用
*****************************************************/
void LedCpuRunIndicate(void)
{
	static uint16_t TimeCnt = 0;
	
	TimeCnt++;	
	if (TimeCnt > CPU_RUN_LED_BLINK_TIME)
	{
		TimeCnt = 0;
		
		/* 指示灯翻转 */
		WORK_LED = ~WORK_LED;
	}
}

/*********************End of File********************/ 
